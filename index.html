<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>I'm Sorry, Micky â¤ï¸</title>

<style>
*{box-sizing:border-box}

body{
  margin:0;
  font-family:'Segoe UI',sans-serif;
  background:linear-gradient(135deg,#ff9aa2,#ff5f9e);
  color:white;
  text-align:center;
}

.container{
  max-width:520px;
  margin:auto;
  padding:40px 20px;
}

p{font-size:18px}

button,a.callBtn{
  display:block;
  margin:15px auto;
  padding:14px 26px;
  border:none;
  border-radius:30px;
  background:white;
  color:#ff5f9e;
  font-size:16px;
  font-weight:bold;
  cursor:pointer;
  text-decoration:none;
}

button:disabled{
  opacity:.5;
  cursor:not-allowed;
}

.card{
  background:rgba(255,255,255,0.2);
  border-radius:20px;
  padding:25px;
  animation:fadeIn .8s ease;
}

.hidden{display:none}

@keyframes fadeIn{
  from{opacity:0;transform:scale(.95)}
  to{opacity:1;transform:scale(1)}
}

.heart{
  position:fixed;
  font-size:26px;
  animation:floatUp 4s linear infinite;
}

@keyframes floatUp{
  from{transform:translateY(100vh)}
  to{transform:translateY(-10vh);opacity:0}
}

#countdown{font-size:48px;font-weight:bold}
</style>
</head>

<body>

<div class="container">

<!-- STEP 1 -->
<div id="step1" class="card">
  <h1>Hey Micky â¤ï¸</h1>
  <p>I made this just for youâ€¦</p>
  <button onclick="next('step1','step2')">Tap here</button>
</div>

<!-- STEP 2 -->
<div id="step2" class="card hidden">
  <h2>Iâ€™m really sorry ğŸ’”</h2>
  <p>You mean a lot to me.</p>
  <button onclick="next('step2','step3')">Continue</button>
</div>

<!-- CUTENESS -->
<div id="step3" class="card hidden">
  <h2>Smile Check ğŸ˜Œ</h2>
  <p>Reach 100% cuteness to continue</p>

  <button onclick="addHeart()">â¤ï¸ Click me</button>
  <p id="counter">Cuteness level: 0%</p>

  <button id="nextBtn" disabled onclick="next('step3','step4')">
    Next â
  </button>
</div>

<!-- FORGIVE -->
<div id="step4" class="card hidden">
  <h2>Can you forgive me?</h2>
  <button onclick="startHug()">Yes ğŸ’–</button>
  <button onclick="showNo()">No ğŸ¤</button>
</div>

<!-- NO FLOW -->
<div id="noBox" class="card hidden">
  <h2>Iâ€™m sorryâ€¦</h2>
  <p>Can we meet for one last time?</p>

  <a href="tel:+91XXXXXXXXXX" class="callBtn">ğŸ“ Call her</a>
  <a href="facetime:+91XXXXXXXXXX" class="callBtn">ğŸ’š FaceTime her</a>

  <button onclick="endLove()">Continue</button>
</div>

<!-- COUNTDOWN -->
<div id="hug" class="card hidden">
  <h2>Virtual Hug Incoming ğŸ¤</h2>
  <div id="countdown">3</div>
</div>

<!-- FINAL HUG -->
<div id="final" class="card hidden">
  <h2 id="hugText">ğŸ«‚ Come here</h2>
  <p>Iâ€™ll be waiting to run to you and hug you tight.</p>

  <button onclick="squeeze()">ğŸ«‚ Squeeze harder</button>
  <p id="status"></p>

  <div id="callBox" class="hidden">
    <p>Sheâ€™s waiting for you ğŸ’</p>
    <a href="tel:+919427035282" class="callBtn">ğŸ“ Call her</a>
    <a href="facetime:+919427035282" class="callBtn">ğŸ’š FaceTime her</a>
  </div>
</div>

<!-- END -->
<div id="loveEnd" class="card hidden">
  <h1>Lots of love ğŸ’–</h1>
  <h2>Dhwani</h2>
</div>

</div>

<script>
let cuteness=0;

/* NAV */
function next(hide,show){
  document.getElementById(hide).classList.add("hidden");
  document.getElementById(show).classList.remove("hidden");
}

/* CUTENESS LOCK */
function addHeart(){
  cuteness+=10;
  if(cuteness>=100){
    cuteness=100;
    document.getElementById("nextBtn").disabled=false;
  }
  document.getElementById("counter").innerText=
    "Cuteness level: "+cuteness+"%";
  heart();
}

/* NO FLOW */
function showNo(){
  document.getElementById("step4").classList.add("hidden");
  document.getElementById("noBox").classList.remove("hidden");
}

/* FEMALE SOFT VOICE */
function speakSoft(){
  const msg=new SpeechSynthesisUtterance("Meet me soon");
  msg.rate=0.75;
  msg.pitch=1.4;

  const voices=speechSynthesis.getVoices();
  const femaleVoice=voices.find(v=>
    v.name.toLowerCase().includes("female") ||
    v.name.toLowerCase().includes("zira") ||
    v.name.toLowerCase().includes("samantha")
  );
  if(femaleVoice) msg.voice=femaleVoice;

  speechSynthesis.speak(msg);
}

/* HUG */
function startHug(){
  document.getElementById("step4").classList.add("hidden");
  document.getElementById("hug").classList.remove("hidden");

  let t=3;
  const cd=document.getElementById("countdown");

  const timer=setInterval(()=>{
    t--;
    cd.innerText=t;
    if(t===0){
      clearInterval(timer);
      document.getElementById("hug").classList.add("hidden");
      document.getElementById("final").classList.remove("hidden");
      speakSoft();
      burstHearts();

      setTimeout(()=>{
        document.getElementById("callBox").classList.remove("hidden");
      },3000);

      setTimeout(endLove,10000);
    }
  },1000);
}

/* END */
function endLove(){
  document.querySelectorAll(".card").forEach(c=>c.classList.add("hidden"));
  document.getElementById("loveEnd").classList.remove("hidden");
  burstHearts();
}

/* HEARTS */
function heart(){
  const h=document.createElement("div");
  h.className="heart";
  h.innerHTML="â¤ï¸";
  h.style.left=Math.random()*100+"vw";
  document.body.appendChild(h);
  setTimeout(()=>h.remove(),5000);
}

function burstHearts(){
  for(let i=0;i<30;i++)heart();
}

/* SQUEEZE */
function squeeze(){
  document.getElementById("hugText").innerText="ğŸ«‚ Come here!";
  document.getElementById("status").innerText="Hug sent successfully ğŸ’Œ";
  if(navigator.vibrate){
    navigator.vibrate([200,100,200,100,300]);
  }
  burstHearts();
}
</script>

</body>
</html>
